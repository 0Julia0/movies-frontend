{"version":3,"sources":["components/ProtectedRoute/ProtectedRoute.js","images/logo.svg","components/Navigation/Navigation.js","components/Header/Header.js","images/promo.svg","components/Promo/Promo.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","images/photo.jpg","components/AboutMe/AboutMe.js","components/Footer/Footer.js","components/Portfolio/Portfolio.js","components/Main/Main.js","images/search_icon.svg","components/FilterCheckbox/FilterCheckbox.js","components/SearchForm/SearchForm.js","components/MoviesCard/MoviesCard.js","components/Preloader/Preloader.js","components/MoviesCardList/MoviesCardList.js","components/Movies/Movies.js","components/SavedMovies/SavedMovies.js","contexts/CurrentUserContext.js","hooks/useValidation.js","components/Profile/Profile.js","components/Register/Register.js","components/Login/Login.js","components/NotFound/NotFound.js","utils/constants.js","utils/MoviesApi.js","utils/MainApi.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["ProtectedRoute","Component","component","props","console","log","loggedIn","to","Navigation","React","useState","isMenuShown","setIsMenuShown","className","onClick","Header","main","src","logo","alt","Promo","promo","href","AboutProject","id","Techs","AboutMe","target","rel","photo","Footer","Portfolio","Main","FilterCheckbox","onChange","isChecked","type","checked","SearchForm","onSearchMovies","onSearchSavedMovies","saved","onShortMoviesCheck","search","setSearch","isSearchValid","setIsSearchValid","onSubmit","evt","preventDefault","search_icon","name","placeholder","value","MoviesCard","movie","savedMovies","onMovieSave","onMovieDelete","isDeleteButtonVisible","setIsDeleteButtonVisible","isSaved","setIsSaved","film","country","director","duration","year","description","image","url","trailer","trailerLink","nameRU","nameEN","thumbnail","formats","movieId","currentMovie","find","location","useLocation","useEffect","onMouseEnter","onMouseLeave","_id","Math","trunc","Preloader","isSearching","MoviesCardList","movies","isErrorActive","notFound","windowWidth","window","innerWidth","initialCards","setInitialCards","moreCards","setMoreCards","handleScreenWidth","displayedMovies","slice","addEventListener","map","length","prevState","Movies","isShortMoviesChecked","SavedMovies","CurrentUserContext","createContext","useValidation","values","setValues","errors","setErrors","isValid","setIsValid","handleChange","event","validationMessage","closest","checkValidity","Profile","onUpdateUser","isUpdateSuccess","isSaving","message","onSignOut","isFormDisabled","setIsFormDisabled","currentUser","useContext","email","validator","isEmail","disabled","required","require","Register","onRegister","onClear","isEmailValid","setEmailValid","validate","password","minLength","Login","onLogin","NotFound","history","useHistory","goBack","BASE_URL","badRequestErrorText","getMovies","fetch","method","headers","then","res","ok","json","Promise","reject","status","checkResponse","getUserInfo","credentials","App","setCurrentUser","setLoggedIn","setIsSearching","setIsUpdateSuccess","setMovies","setNotFound","isMoviesErrorActive","setIsMoviesErrorActive","allMovies","setAllMovies","setIsShortMoviesChecked","setIsSaving","editProfileMessage","setEditProfileMessage","registerErrorMessage","setRegisterErrorMessage","loginErrorMessage","setLoginErrorMessage","setSavedMovies","handleShortMoviesCheck","handleLogin","body","JSON","stringify","mainApi","push","error","catch","finally","clearAllErrorMessages","handleSearchMovies","data","foundMovies","forEach","searchName","toLowerCase","includes","handleMovieDelete","prevMoviesState","filter","deletedmovie","err","all","userData","parse","localStorage","getItem","tokenCheck","useCallback","Provider","exact","path","moviesApi","searchResult","setItem","newMovie","searchSavedResult","removeItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uUAceA,EAXQ,SAAC,GAAwC,IAA3BC,EAA0B,EAArCC,UAAyBC,EAAY,iBAE7D,OADAC,QAAQC,IAAIF,EAAMG,UAEhB,cAAC,IAAD,UACG,kBACCH,EAAMG,SAAW,cAACL,EAAD,eAAeE,IAAY,cAAC,IAAD,CAAUI,GAAG,UCRlD,MAA0B,iC,aC0C1BC,MAtCf,YAAmC,IAAbF,EAAY,EAAZA,SAClB,EAAsCG,IAAMC,UAAS,GAArD,mBAAOC,EAAP,KAAoBC,EAApB,KAUA,OACI,sBAAKC,UAAU,qBAAf,UACI,sBAAKA,UAAWP,EAAW,qCAAuC,2BAAlE,UACI,cAAC,IAAD,CAAMC,GAAG,UAAUM,UAAU,0CAA7B,gFACA,cAAC,IAAD,CAAMN,GAAG,UAAUM,UAAU,iDAA7B,+CAEJ,sBAAKA,UAAWP,EAAW,4BAA8B,sCAAzD,UACI,cAAC,IAAD,CAAMC,GAAG,UAAUM,UAAU,wCAA7B,kDACA,cAAC,IAAD,CAAMN,GAAG,gBAAgBM,UAAU,wCAAnC,qHACA,cAAC,IAAD,CAAMN,GAAG,WAAWM,UAAU,+CAA9B,2DAEJ,wBAAQA,UAAWP,EAAW,sBAAwB,gCAAiCQ,QAf/F,WACIF,GAAe,MAeX,sBAAKC,UAAWF,EAAc,eAAiB,yBAA/C,UACI,wBAAQE,UAAU,4BAA4BC,QArB1D,WACIF,GAAe,MAqBP,qBAAKC,UAAU,yBAAf,SACI,sBAAKA,UAAU,qBAAf,UACI,cAAC,IAAD,CAAMN,GAAG,IAAIM,UAAU,oBAAvB,wDACA,cAAC,IAAD,CAAMN,GAAG,UAAUM,UAAU,oBAA7B,kDACA,cAAC,IAAD,CAAMN,GAAG,gBAAgBM,UAAU,oBAAnC,qHACA,cAAC,IAAD,CAAMN,GAAG,WAAWM,UAAU,mDAA9B,oE,MCdTE,MAff,YAAsC,IAApBC,EAAmB,EAAnBA,KAAMV,EAAa,EAAbA,SACpB,OACI,0BAASO,UAAWG,EAAO,SAAW,yBAAtC,UACI,cAAC,IAAD,CAAMT,GAAG,IAAT,SACI,qBACIM,UAAU,eACVI,IAAKC,EACLC,IAAI,iDAGZ,cAAC,EAAD,CAAYb,SAAUA,QCfnB,MAA0B,kC,MCgB1Bc,MAbf,WACI,OACI,0BAASP,UAAU,QAAnB,UACI,qBAAKA,UAAU,eAAeM,IAAI,6CAAUF,IAAKI,IACjD,sBAAKR,UAAU,eAAf,UACI,oBAAIA,UAAU,eAAd,4RACA,mBAAGA,UAAU,cAAb,oWACA,mBAAGS,KAAK,iBAAiBT,UAAU,gBAAnC,8F,MC0BDU,MAlCf,WACI,OACI,0BAASV,UAAU,gBAAgBW,GAAG,gBAAtC,UACI,oBAAIX,UAAU,uBAAd,+DACA,sBAAKA,UAAU,sBAAf,UACI,sBAAKA,UAAU,4BAAf,UACI,oBAAIA,UAAU,4BAAd,2LAGT,mBAAGA,UAAU,2BAAb,6hBAKK,sBAAKA,UAAU,4BAAf,UACL,oBAAIA,UAAU,4BAAd,kMAGA,mBAAGA,UAAU,2BAAb,6hBAMC,sBAAKA,UAAU,uBAAf,UACI,mBAAGA,UAAU,oEAAb,oDACA,mBAAGA,UAAU,qEAAb,oDACA,mBAAGA,UAAU,uEAAb,sBACA,mBAAGA,UAAU,wEAAb,8B,MCNDY,MAtBf,WACI,OACI,0BAASZ,UAAU,QAAnB,UACI,oBAAIA,UAAU,iBAAd,0EACA,oBAAIA,UAAU,eAAd,4EACA,mBAAGA,UAAU,kBAAb,2cAIA,qBAAIA,UAAU,cAAd,UACI,oBAAIA,UAAU,mBAAd,kBACA,oBAAIA,UAAU,mBAAd,iBACA,oBAAIA,UAAU,mBAAd,gBACA,oBAAIA,UAAU,mBAAd,mBACA,oBAAIA,UAAU,mBAAd,iBACA,oBAAIA,UAAU,mBAAd,wBACA,oBAAIA,UAAU,mBAAd,4BClBD,MAA0B,kC,MCkC1Ba,MA/Bf,WACI,OACI,0BAASb,UAAU,WAAnB,UACE,oBAAIA,UAAU,oBAAd,wDACC,sBAAKA,UAAU,wBAAf,UACK,sBAAKA,UAAU,6BAAf,UACI,oBAAIA,UAAU,8BAAd,gCACA,mBAAGA,UAAU,iCAAb,8JAGA,mBAAGA,UAAU,kCAAb,gnCAMA,mBACIA,UAAU,6BACVS,KAAK,6BACLK,OAAO,SACPC,IAAI,aAJR,uBASJ,qBAAKf,UAAU,8BAA8BI,IAAKY,EAAOV,IAAI,8B,MCiB9DW,MA3Cf,WACI,OACC,0BAASjB,UAAU,SAAnB,UACC,mBAAGA,UAAU,eAAb,0MACA,sBAAKA,UAAU,cAAf,UACI,mBAAGA,UAAU,oBAAb,uBACA,qBAAIA,UAAU,gBAAd,UACK,oBAAIA,UAAU,wBAAd,SACT,mBACCA,UAAU,eACVS,KAAK,+BACLK,OAAO,SACPC,IAAI,aAJL,2GASE,oBAAIf,UAAU,wBAAd,SACE,mBACHA,UAAU,eACVS,KAAK,qBACLK,OAAO,SACPC,IAAI,aAJD,sBASF,oBAAIf,UAAU,wBAAd,SACC,mBACFA,UAAU,eACVS,KAAK,2BACLK,OAAO,SACPC,IAAI,aAJF,kC,MCYMG,MAxCf,WACI,OACI,0BAASlB,UAAU,YAAnB,UACI,oBAAIA,UAAU,mBAAd,oEACA,qBAAIA,UAAU,mBAAd,UACI,oBAAIA,UAAU,2BAAd,SACI,mBACXA,UAAU,kBACVS,KAAK,0CACLK,OAAO,SACPC,IAAI,aAJO,+FASV,oBAAIf,UAAU,2BAAd,SACC,mBACFA,UAAU,kBACVS,KAAK,sDACLK,OAAO,SACPC,IAAI,aAJF,qGASD,oBAAIf,UAAU,2BAAd,SACC,mBACFA,UAAU,kBACVS,KAAK,sCACLK,OAAO,SACPC,IAAI,aAJF,wKCLII,MAff,YAA8B,IAAd1B,EAAa,EAAbA,SACZ,OACA,qCACG,cAAC,EAAD,CAAQA,SAAUA,EAAUU,MAAM,IAClC,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACC,cAAC,EAAD,QCjBO,G,MAAA,IAA0B,yC,MCW1BiB,MATf,YAAmD,IAAzBC,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,UAChC,OACI,wBAAOtB,UAAU,uBAAjB,UACI,uBAAOA,UAAU,iBAAiBW,GAAG,cAAcY,KAAK,WAAWF,SAAUA,EAAUG,QAASF,IAChG,sBAAMtB,UAAU,+BCuEbyB,MAxEf,YAMI,IALHC,EAKE,EALFA,eACGC,EAID,EAJCA,oBACAC,EAGD,EAHCA,MACHC,EAEE,EAFFA,mBACGP,EACD,EADCA,UAEA,EAA4B1B,IAAMC,SAAS,IAA3C,mBAAOiC,EAAP,KAAeC,EAAf,KACA,EAA0CnC,IAAMC,UAAS,GAAzD,mBAAOmC,EAAP,KAAsBC,EAAtB,KAwBA,OACI,yBAASjC,UAAU,SAAnB,SACG,uBACKA,UAAU,eACVkC,SAAUN,EAdtB,SAAiCO,GAC7BA,EAAIC,iBACJT,EAAoBG,IAGxB,SAA4BK,GACxBA,EAAIC,iBACJV,EAAeI,IAKZ,UAIK,qBAAK9B,UAAU,oBAAoBI,IAAKiC,EAAa/B,IAAI,mCACzD,2BAAUN,UAAU,qBAApB,UACG,uBACKA,UAAU,qBACVuB,KAAK,OACLe,KAAK,SACLC,YAAY,iCACZC,MAAOV,EACPT,SA5BpB,SAA4Bc,GACxBJ,EAAUI,EAAIrB,OAAO0B,UA6BT,sBACCxC,UAAWgC,EAAgB,kDAAoD,qBADhF,oKAMJ,wBACIhC,UAAU,sBACVuB,KAAK,SACLtB,QA/ChB,WAEQgC,EADW,KAAXH,MAiDI,sBAAK9B,UAAU,qBAAf,UACI,cAAC,EAAD,CACIqB,SAAUQ,EACVP,UAAWA,IAEf,oBAAItB,UAAU,sBAAd,iH,YCYLyC,MA9Ef,YAMI,IAAD,UALFC,EAKE,EALFA,MACGC,EAID,EAJCA,YACHC,EAGE,EAHFA,YACAC,EAEE,EAFFA,cACAjB,EACE,EADFA,MAEG,EAA0DhC,IAAMC,UAAS,GAAzE,mBAAOiD,EAAP,KAA8BC,EAA9B,KACA,EAA8BnD,IAAMC,UAAS,GAA7C,mBAAOmD,EAAP,KAAgBC,EAAhB,KAEMC,EAAO,CACTC,QAAUT,EAAMS,QAChBC,SAAUV,EAAMU,SAChBC,SAAUX,EAAMW,SAChBC,KAAMZ,EAAMY,KACZC,YAAab,EAAMa,YACnBC,MAAM,+BAAD,iBAAiCd,EAAMc,aAAvC,aAAiC,EAAaC,KACnDC,QAAO,OAAEhB,QAAF,IAAEA,OAAF,EAAEA,EAAOiB,YAChBC,OAAQlB,EAAMkB,OACdC,OAAQnB,EAAMmB,OACdC,UAAU,+BAAD,iBAAiCpB,EAAMc,aAAvC,iBAAiC,EAAaO,eAA9C,iBAAiC,EAAsBD,iBAAvD,aAAiC,EAAiCL,KAC3EO,QAAStB,EAAM/B,IAGbsD,EAAetB,EAAYuB,MAAK,SAAChB,GAAD,OAAUA,EAAKU,SAAWlB,EAAMkB,UAEhEO,EAAWC,cAmCjB,OAPAxE,IAAMyE,WAAU,WACTJ,GACChB,GAAW,KAGhB,CAACgB,EAAcE,IAGd,qBAAInE,UAAU,oBAAd,UACI,mBAAGA,UAAU,oBAAoBS,KAAMmB,EAAQc,EAAMgB,QAAUhB,EAAMiB,YAAa7C,OAAO,SAASC,IAAI,aAAtG,SACI,qBAAKf,UAAU,sBAAsBM,IAAKoC,EAAMkB,OAAQxD,IAAKwB,EAAQc,EAAMc,MAAT,gDAAgDd,EAAMc,aAAtD,aAAgD,EAAaC,SAEnI,sBAAKzD,UAAU,2BAA2BsE,aAtClD,WACIvB,GAAyB,IAqCwDwB,aAlCrF,WACIxB,GAAyB,IAiCrB,UACI,mBAAG/C,UAAU,qBAAb,SAAmC0C,EAAMkB,SACxChC,EACG,wBAAQ5B,UAAW8C,EAAwB,kDAAoD,sBAAuB7C,QArBtI,SAA2BkC,GACvBA,EAAIC,iBACJS,EAAcH,EAAM8B,KACpBvB,GAAW,MAmBC,wBAAQjD,UAAS,4BAAuBgD,EAAU,2BAA6B,IAAM/C,QAAS+C,EA5B9G,SAAuBb,GACnBA,EAAIC,iBACJa,GAAW,GACXJ,EAAcoB,EAAaO,MAT/B,SAAoBrC,GAChBA,EAAIC,iBACJa,GAAW,GACXL,EAAYM,SAkCR,mBAAGlD,UAAU,wBAAb,mBAAyCyE,KAAKC,MAAMxB,EAAKG,SAAS,IAAlE,kBAA0EH,EAAKG,SAAW,GAA1F,gBChEGsB,G,MAVG,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,YACjB,OACI,qBAAK5E,UAAW4E,EAAc,YAAc,iCAA5C,SACI,qBAAK5E,UAAU,uBAAf,SACI,sBAAMA,UAAU,2BCmFjB6E,MArFf,YASI,IARHC,EAQE,EARFA,OACAF,EAOE,EAPFA,YACAG,EAME,EANFA,cACAC,EAKE,EALFA,SACApD,EAIE,EAJFA,MACGe,EAGD,EAHCA,YACAC,EAED,EAFCA,YACAC,EACD,EADCA,cAEA,EAAwCjD,IAAMC,UAAS,WACnD,IAAMoF,EAAcC,OAAOC,WAC3B,OAAGF,EAAc,IACN,EACDA,EAAc,IACb,EACDA,EAAc,IACb,QADJ,KANX,mBAAOG,EAAP,KAAqBC,EAArB,KAUA,EAAkCzF,IAAMC,UAAS,WAC7C,IAAMoF,EAAcC,OAAOC,WAC3B,OAAGF,EAAc,KAEPA,EAAc,IADb,EAGDA,EAAc,IACb,OADJ,KANX,mBAAOK,EAAP,KAAkBC,EAAlB,KAWA,SAASC,IACL,IAAMP,EAAcC,OAAOC,WACxBF,EAAc,KACbI,EAAgB,GAChBE,EAAa,IACPN,EAAc,KACpBI,EAAgB,GAChBE,EAAa,IACPN,EAAc,MACpBI,EAAgB,IAChBE,EAAa,IAIrB,IAAME,EAAe,OAAGX,QAAH,IAAGA,OAAH,EAAGA,EAAQY,MAAM,EAAGN,GAUzC,OAJAxF,IAAMyE,WAAU,WACZa,OAAOS,iBAAiB,SAAUH,KACnC,IAGC,0BAASxF,UAAU,SAAnB,UACI,cAAC,EAAD,CAAW4E,YAAaA,IACxB,sBAAM5E,UAAW+E,EAAgB,gBAAkB,wCAAnD,grBAIA,sBAAM/E,UAAWgF,EAAW,gBAAkB,wCAA9C,0GACA,oBAAIhF,UAAU,eAAd,gBACKyF,QADL,IACKA,OADL,EACKA,EAAiBG,KAAI,SAAAlD,GAAK,OACvB,cAAC,EAAD,CAEIA,MAAOA,EACPd,MAAOA,EACPe,YAAaA,EACbC,YAAaA,EACbC,cAAeA,GALVjB,EAAQc,EAAMsB,QAAUtB,EAAM/B,SAS/C,wBACIX,WAAiB,OAAN8E,QAAM,IAANA,OAAA,EAAAA,EAAQe,WAAR,OAAmBJ,QAAnB,IAAmBA,OAAnB,EAAmBA,EAAiBI,QAAS,0CAA4C,iBACpG5F,QA9BZ,WACIoF,GAAgB,SAAAS,GAAc,OAAOA,EAAYR,MA2B7C,oCCtCGS,MArCf,YAYI,IAXHtG,EAWE,EAXFA,SACAiC,EAUE,EAVFA,eACAG,EASE,EATFA,mBACAmE,EAQE,EARFA,qBACAlB,EAOE,EAPFA,OACAF,EAME,EANFA,YACGG,EAKD,EALCA,cACHC,EAIE,EAJFA,SACGrC,EAGD,EAHCA,YACHC,EAEE,EAFFA,YACAC,EACE,EADFA,cAEG,OACI,qCACA,cAAC,EAAD,CAAQpD,SAAUA,EAAUU,MAAM,IAClC,cAAC,EAAD,CACCuB,eAAgBA,EACbE,OAAO,EACVC,mBAAoBA,EACpBP,UAAW0E,IAEZ,cAAC,EAAD,CACIlB,OAAQA,EACRF,YAAaA,EACbG,cAAeA,EACfC,SAAUA,EACVpD,OAAO,EACPe,YAAaA,EACbC,YAAaA,EACbC,cAAeA,IAEf,cAAC,EAAD,QCCGoD,MAjCf,YAUI,IATHxG,EASE,EATFA,SACGkC,EAQD,EARCA,oBACHE,EAOE,EAPFA,mBACAmE,EAME,EANFA,qBACGnD,EAKD,EALCA,cACAiC,EAID,EAJCA,OACAnC,EAGD,EAHCA,YACAqC,EAED,EAFCA,SACAD,EACD,EADCA,cAEA,OACI,qCACI,cAAC,EAAD,CAAQtF,SAAUA,EAAUU,MAAM,IAClC,cAAC,EAAD,CACIwB,oBAAqBA,EACrBC,OAAO,EACPC,mBAAoBA,EACpBP,UAAW0E,IAEf,cAAC,EAAD,CACIlB,OAAQA,EACRlD,OAAO,EACPe,YAAaA,EACbE,cAAeA,EACfmC,SAAUA,EACVD,cAAeA,IAEnB,cAAC,EAAD,QC/BCmB,G,MAAqBtG,IAAMuG,iB,QCAjC,SAASC,IACZ,MAA4BxG,IAAMC,SAAS,IAA3C,mBAAOwG,EAAP,KAAeC,EAAf,KACA,EAA4B1G,IAAMC,SAAS,IAA3C,mBAAO0G,EAAP,KAAeC,EAAf,KACA,EAA8B5G,IAAMC,UAAS,GAA7C,mBAAO4G,EAAP,KAAgBC,EAAhB,KAWA,MAAO,CAAEL,SAAQC,YAAWK,aAT5B,SAAsBC,GAClB,IAAM9F,EAAS8F,EAAM9F,OACfwB,EAAOxB,EAAOwB,KACdE,EAAQ1B,EAAO0B,MACrB8D,EAAU,2BAAKD,GAAN,kBAAe/D,EAAOE,KAC/BgE,EAAU,2BAAKD,GAAN,kBAAejE,EAAOxB,EAAO+F,qBACtCH,EAAW5F,EAAOgG,QAAQ,QAAQC,kBAGIR,SAAQE,UAASC,c,qBCiGhDM,MA1Gf,YAOI,IANHC,EAME,EANFA,aACAC,EAKE,EALFA,gBACAC,EAIE,EAJFA,SACA1H,EAGE,EAHFA,SACG2H,EAED,EAFCA,QACAC,EACD,EADCA,UAEA,EAAuEjB,IAAhEC,EAAP,EAAOA,OAAQC,EAAf,EAAeA,UAAWK,EAA1B,EAA0BA,aAAcJ,EAAxC,EAAwCA,OAAQE,EAAhD,EAAgDA,QAASC,EAAzD,EAAyDA,WACzD,EAA4C9G,IAAMC,UAAS,GAA3D,mBAAOyH,EAAP,KAAuBC,EAAvB,KACMC,EAAc5H,IAAM6H,WAAWvB,GAsCrC,OApCAtG,IAAMyE,WAAU,WACZiC,EAAUkB,KACT,CAACA,EAAalB,IAcnB1G,IAAMyE,WAAU,WACZkD,EAAkBL,KACpB,CAACA,EAAiBD,IAEpBrH,IAAMyE,WAAU,WACT8C,GACCI,GAAkB,KAEvB,CAACJ,IAEJvH,IAAMyE,WAAU,WAEVmD,EAAYlF,OAAS+D,EAAO/D,MAC5BkF,EAAYE,QAAUrB,EAAOqB,QAE7BhB,GAAW,GACXa,GAAkB,MAEnB,CAACb,EAAYL,EAAQmB,IAGtB,qCACA,cAAC,EAAD,CAAQ/H,SAAUA,EAAUU,MAAM,IAC9B,0BAASH,UAAU,UAAnB,UACI,qBAAIA,UAAU,iBAAd,mDAAwCwH,EAAYlF,KAApD,OACA,uBAAMtC,UAAU,gBAAgBkC,SArC1C,SAAsBC,GACpBA,EAAIC,iBACDuF,IAAUC,SACTX,EAAaZ,EAAO/D,KAAM+D,EAAOqB,QAkC7B,UACI,2BAAU1H,UAAU,kBAApB,UACI,sBAAKA,UAAU,iBAAf,UACI,mBAAGA,UAAU,sBAAb,gCACA,uBACIA,UAAU,uBACVuB,KAAK,OACLe,KAAK,OACLE,MAAO6D,EAAO/D,KACdC,YAAY,qBACZlB,SAAUsF,EACVkB,SAAUP,EACVQ,UAAQ,OAGhB,sBAAM9H,UAAU,iBAAhB,SAAkCuG,EAAOjE,OACzC,sBAAKtC,UAAU,iBAAf,UACI,mBAAGA,UAAU,sBAAb,mBACA,uBACIA,UAAU,uBACVuB,KAAK,QACLe,KAAK,QACLE,MAAO6D,EAAOqB,MACdnF,YAAY,iBACZlB,SAAUsF,EACVkB,SAAUP,EACVQ,UAAQ,OAGhB,sBAAM9H,UAAU,iBAAhB,SAAkCuG,EAAOmB,WAE7C,sBAAM1H,UAAW,iBAAjB,SAAoCoH,IACnCE,EAAiB,wBAAQtH,UAAU,4CAA4CC,QA9DhG,SAAgCkC,GAC5BA,EAAIC,iBACJmF,GAAkB,IA4DY,4FACd,wBACIvH,UAAWyG,EAAU,4CAA8C,qDACnElF,KAAK,SACLsG,UAAWpB,EAHf,uEAQR,wBACIzG,UAAWsH,EAAiB,gBAAkB,0BAC9CrH,QAASoH,EAFb,iHChGZM,G,OAAYI,EAAQ,KAyFTC,MAvFf,YAKI,IAJHC,EAIE,EAJFA,WACAC,EAGE,EAHFA,QACAf,EAEE,EAFFA,SACAC,EACE,EADFA,QAEG,EAAgDhB,IAAzCC,EAAP,EAAOA,OAAQM,EAAf,EAAeA,aAAcJ,EAA7B,EAA6BA,OAAQE,EAArC,EAAqCA,QACrC,EAAsC7G,IAAMC,WAA5C,mBAAOsI,EAAP,KAAqBC,EAArB,KAaA,OACI,0BAASpI,UAAU,WAAnB,UACI,cAAC,IAAD,CAAMN,GAAG,IAAT,SACI,qBACIM,UAAU,iBACVI,IAAKC,EACLC,IAAI,iDAGZ,oBAAIN,UAAU,kBAAd,0GACA,uBAAMA,UAAU,iBAAiBkC,SArBzC,SAAwBC,GACpBA,EAAIC,iBACJgG,GAAc,GACXT,EAAUU,SAAShC,EAAOqB,QACzBO,EAAW5B,EAAO/D,KAAM+D,EAAOqB,MAAOrB,EAAOiC,UAC7CJ,KAEAE,GAAc,IAcd,UACI,2BAAUpI,UAAU,mBAApB,UACI,mBAAGA,UAAU,iBAAb,gCACA,uBACIA,UAAU,kBACVuB,KAAK,OACLe,KAAK,OACLE,MAAO6D,EAAO/D,KACdjB,SAAUsF,EACVmB,UAAQ,IAEZ,sBAAM9H,UAAU,kBAAhB,SAAmCuG,EAAOjE,OAC1C,mBAAGtC,UAAU,iBAAb,oBACA,uBACIA,UAAU,kBACVuB,KAAK,QACLe,KAAK,QACLE,MAAO6D,EAAOqB,MACdrG,SAAUsF,EACVmB,UAAQ,IAEZ,sBAAM9H,UAAWmI,EAAgB,kBAAoB,4CAArD,qGACA,mBAAGnI,UAAU,iBAAb,kDACA,uBACIA,UAAU,kBACVuB,KAAK,WACLe,KAAK,WACLE,MAAO6D,EAAOiC,SACdjH,SAAUsF,EACVmB,UAAQ,EACRS,UAAU,MAEd,sBAAMvI,UAAU,kBAAhB,SAAmCuG,EAAO+B,cAE9C,sBAAMtI,UAAWmH,EAAW,4CAA8C,kBAA1E,SAA8FC,IAC9F,wBACIpH,UAAWyG,EAAU,mBAAqB,6CAC1ClF,KAAK,SACLsG,UAAWpB,EAHf,6HAQA,qBAAIzG,UAAU,qBAAd,iIACI,cAAC,IAAD,CACIA,UAAU,iBACVN,GAAG,UACHO,QAASiI,EAHb,mDC5EhBP,G,OAAYI,EAAQ,KAwETS,MAtEf,YAKI,IAJAC,EAID,EAJCA,QACAP,EAGD,EAHCA,QACAf,EAED,EAFCA,SACAC,EACD,EADCA,QAEA,EAAgDhB,IAAzCC,EAAP,EAAOA,OAAQM,EAAf,EAAeA,aAAcJ,EAA7B,EAA6BA,OAAQE,EAArC,EAAqCA,QAUrC,OACI,0BAASzG,UAAU,QAAnB,UACI,cAAC,IAAD,CAAMN,GAAG,IAAT,SACI,qBACIM,UAAU,cACVI,IAAKC,EACLC,IAAI,iDAGZ,oBAAIN,UAAU,eAAd,4EACA,uBAAMA,UAAU,cAAckC,SAlBtC,SAAqBC,GACjBA,EAAIC,iBACDuF,EAAUU,SAAShC,EAAOqB,SACzBe,EAAQpC,EAAOqB,MAAOrB,EAAOiC,UAC7BJ,MAcA,UACI,2BAAUlI,UAAU,gBAApB,UACI,mBAAGA,UAAU,cAAb,oBACA,uBACIA,UAAU,eACVuB,KAAK,QACLe,KAAK,QACLE,MAAO6D,EAAOqB,MACdrG,SAAUsF,EACVmB,UAAQ,IACZ,sBAAM9H,UAAU,eAAhB,SAAgCuG,EAAO+B,WACvC,mBAAGtI,UAAU,cAAb,kDACA,uBACIA,UAAU,eACVuB,KAAK,WACLe,KAAK,WACLE,MAAO6D,EAAOiC,SACdjH,SAAUsF,EACVmB,UAAQ,EACRS,UAAU,MACd,sBAAMvI,UAAU,eAAhB,SAAgCuG,EAAO+B,cAE3C,sBAAMtI,UAAWmH,EAAW,sCAAwC,eAApE,SAAqFC,IACrF,wBACIpH,UAAWyG,EAAU,gBAAkB,uCACvClF,KAAK,SACLsG,UAAWpB,EAHf,+CAQA,qBAAIzG,UAAU,kBAAd,8IACI,cAAC,IAAD,CACIA,UAAU,cACVN,GAAG,UACHO,QAASiI,EAHb,uF,OC7CLQ,MAhBf,WACI,IAAMC,EAAUC,cAMhB,OACI,0BAAS5I,UAAU,YAAnB,UACI,oBAAIA,UAAU,mBAAd,iBACA,mBAAGA,UAAU,sBAAb,sHACA,cAAC,IAAD,CAAMN,GAAG,IAAIM,UAAU,kBAAkBC,QARjD,WACI0I,EAAQE,UAOJ,gDCfCC,EAAW,uDAGXC,EAAsB,gJCM5B,SAASC,IACZ,OAAOC,MAAM,GAAD,ODTe,gDCSQ,CAC/BC,OAAQ,MACRC,QAAS,CACL,OAAU,mBACV,eAAgB,sBAGvBC,MAAK,SAAAC,GAAG,OAfS,SAACA,GACnB,OAAKA,EAAIC,GAGFD,EAAIE,OAFFC,QAAQC,OAAR,gDAA0BJ,EAAIK,SAa1BC,CAAcN,MCf/B,IAAMM,EAAgB,SAACN,GACrB,OAAKA,EAAIC,GAGFD,EAAIE,OAFFC,QAAQC,OAAR,gDAA0BJ,EAAIK,UA8C1BE,EAAc,WACzB,OAAOX,MAAM,GAAD,OAAIH,EAAJ,aAAyB,CACnCI,OAAQ,MACRC,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBU,YAAa,YAEdT,MAAK,SAAAC,GAAG,OAAIM,EAAcN,OCiRhBS,MAtTf,WACI,MAAsClK,IAAMC,SAAS,IAArD,mBAAO2H,EAAP,KAAoBuC,EAApB,KACA,EAAgCnK,IAAMC,UAAS,GAA/C,mBAAOJ,EAAP,KAAiBuK,EAAjB,KACH,EAAsCpK,IAAMC,UAAS,GAArD,mBAAO+E,EAAP,KAAoBqF,EAApB,KACA,EAA8CrK,IAAMC,UAAS,GAA7D,mBAAOqH,EAAP,KAAwBgD,EAAxB,KACA,EAA4BtK,IAAMC,SAAS,IAA3C,mBAAOiF,EAAP,KAAeqF,EAAf,KACA,EAAgCvK,IAAMC,UAAS,GAA/C,mBAAOmF,EAAP,KAAiBoF,EAAjB,KACA,EAAsDxK,IAAMC,UAAS,GAArE,mBAAOwK,EAAP,KAA4BC,EAA5B,KACA,EAAkC1K,IAAMC,SAAS,IAAjD,mBAAO0K,EAAP,KAAkBC,EAAlB,KACG,EAAwD5K,IAAMC,UAAS,GAAvE,mBAAOmG,EAAP,KAA6ByE,GAA7B,KACA,GAAgC7K,IAAMC,UAAS,GAA/C,qBAAOsH,GAAP,MAAiBuD,GAAjB,MACH,GAAoD9K,IAAMC,SAAS,IAAnE,qBAAO8K,GAAP,MAA2BC,GAA3B,MACG,GAAwDhL,IAAMC,SAAS,IAAvE,qBAAOgL,GAAP,MAA6BC,GAA7B,MACA,GAAkDlL,IAAMC,SAAS,IAAjE,qBAAOkL,GAAP,MAA0BC,GAA1B,MACA,GAAsCpL,IAAMC,SAAS,IAArD,qBAAO8C,GAAP,MAAoBsI,GAApB,MACMtC,GAAUC,cAgBhB,SAASsC,GAAuB/I,GAC5BsI,GAAwBtI,EAAIrB,OAAOU,SAyB1C,SAAS2J,GAAYzD,EAAOY,GAErB,OADAoC,IAAY,GDtDO,SAAChD,EAAOY,GAC/B,OAAOW,MAAM,GAAD,OAAIH,EAAJ,WAAuB,CACjCI,OAAQ,OACRC,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBU,YAAa,UACbuB,KAAMC,KAAKC,UAAU,CACnB,MAAS5D,EACT,SAAYY,MAGfc,MAAK,SAAAC,GAAG,OAAIM,EAAcN,MC0ChBkC,CACQ7D,EAAOY,GACjBc,MAAK,SAACC,GACAA,GACCU,EAAeV,GACfW,GAAY,GACZgB,GAAqB,IACrBrC,GAAQ6C,KAAK,YACO,gBAAdnC,EAAIoC,MACVT,GAAqBjC,GACfM,EAAIjC,SACV4D,GAAqB3B,EAAIjC,YAGhCsE,OAAM,WACHV,GH3FsB,iaG6FzBW,SAAQ,WACLjB,IAAY,MAsCxB,SAASkB,KACLd,GAAwB,IACxBE,GAAqB,IACrBJ,GAAsB,IAG7B,SAASiB,GAAmB/G,EAAQgH,GAC7B,IAAIC,EAAc,GAclB,OAbAjH,EAAOkH,SAAQ,SAACtJ,GAAW,IAAD,EAChBuJ,EAAavJ,EAAMkB,OAAOsI,cAAcC,SAASL,EAAKI,iBAAzC,UACnBxJ,EAAMmB,cADa,aACnB,EAAcqI,cAAcC,SAASL,EAAKI,gBAC1C,GAAGD,EACC,OAAGjG,EACItD,EAAMW,UAAY,IAAM4I,EAChBF,EAAYP,KAAK9I,QAE5B,EAEGqJ,EAAYP,KAAK9I,MAGzBqJ,EAyEZ,SAASK,GAAkBN,GACtBpB,IAAY,GDrHS,SAACoB,GAC1B,OAAO7C,MAAM,GAAD,OAAIH,EAAJ,mBAAuBgD,GAAQ,CACzC5C,OAAQ,SACRC,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBU,YAAa,YAEdT,MAAK,SAAAC,GAAG,OAAIM,EAAcN,MC6GvBkC,CAAoBO,GACf1C,MAAK,WACF6B,IAAe,SAACoB,GAAD,OAAqBA,EAAgBC,QAAO,SAACC,GAAD,OAAkBA,EAAa/H,MAAQsH,WAErGJ,OAAM,SAACc,GACJjN,QAAQC,IAAIgN,MAEfb,SAAQ,WACLjB,IAAY,MA1MxB9K,IAAMyE,WAAU,WACR5E,GACF+J,QAAQiD,IAAI,CAAClB,IDsCZtC,MAAM,GAAD,OAAIH,EAAJ,WAAuB,CACjCI,OAAQ,MACRC,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBU,YAAa,YAEdT,MAAK,SAAAC,GAAG,OAAIM,EAAcN,QC7CpBD,MAAK,YAAyB,IAAD,mBAAtBsD,EAAsB,KAAZ5H,EAAY,KAC5BqF,EAAUkB,KAAKsB,MAAMC,aAAaC,QAAQ,YAC1C9C,EAAe2C,GACfzB,GAAenG,MAEhB4G,OAAM,SAACc,GACNjN,QAAQC,IAAIgN,QAGhB,CAAC/M,IAkML,IAAMqN,GAAalN,IAAMmN,aAAY,WACjCxB,IACCnC,MAAK,WACJY,GAAY,MAEb0B,OAAM,SAACc,GACNjN,QAAQC,IAAIgN,QAEf,IAML,OAJE5M,IAAMyE,WAAU,WACZyI,OACC,CAACA,KAGN,cAAC5G,EAAmB8G,SAApB,CAA6BxK,MAAOgF,EAApC,SACC,qBAAKxH,UAAU,OAAf,SACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAOiN,OAAK,EAACC,KAAK,IAAlB,SACC,cAAC,EAAD,CAAMzN,SAAUA,MAEjB,cAAC,EAAD,CACawN,OAAK,EACjBC,KAAK,UACL7N,UAAW0G,EACXtG,SAAUA,EACEiC,eAjGnB,SAAsBoK,GAKX,GAJJ7B,GAAe,GACfE,EAAU,IACVC,GAAY,GACZE,GAAuB,GACK,IAArBC,EAAU1E,OACTsH,IACK/D,MAAK,SAACtE,GACH0F,EAAa1F,GACb,IAAMsI,EAAevB,GAAmB/G,EAAQgH,GACrB,IAAxBsB,EAAavH,QACZuE,GAAY,GACZD,EAAU,MAEVyC,aAAaS,QAAQ,SAAUhC,KAAKC,UAAU8B,IAC9CjD,EAAUkB,KAAKsB,MAAMC,aAAaC,QAAQ,gBAGjDnB,OAAM,WACHpB,GAAuB,GACvBH,EAAU,OAEbwB,SAAQ,WACL1B,GAAe,UAEpB,CACH,IAAMmD,EAAevB,GAAmBtB,EAAWuB,GACxB,IAAxBsB,EAAavH,QACZuE,GAAY,GACZD,EAAU,IACVF,GAAe,IACe,IAAxBmD,EAAavH,QACnB+G,aAAaS,QAAQ,SAAUhC,KAAKC,UAAU8B,IAC9CjD,EAAUkB,KAAKsB,MAAMC,aAAaC,QAAQ,YAC1C5C,GAAe,KAEfK,GAAuB,GACvBH,EAAU,OA6DzBtI,mBAAoBqJ,GACpBlF,qBAAsBA,EACPlB,OAAQA,EACRF,YAAaA,EACbG,cAAesF,EACfrF,SAAUA,EACVrC,YAAaA,GACbC,YA/DhB,SAAyBkJ,GACrBpB,IAAY,GD/HO,SAACoB,GACxB,OAAO7C,MAAM,GAAD,OAAIH,EAAJ,WAAuB,CACjCI,OAAQ,OACRC,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBU,YAAa,UACbuB,KAAMC,KAAKC,UAAU,CACnBnI,QAAS2I,EAAK3I,QACdC,SAAU0I,EAAK1I,SACfC,SAAUyI,EAAKzI,SACfC,KAAMwI,EAAKxI,KACXC,YAAauI,EAAKvI,YAClBC,MAAOsI,EAAKtI,MACZE,QAASoI,EAAKpI,QACdE,OAAQkI,EAAKlI,OACbC,OAAQiI,EAAKjI,OACbC,UAAWgI,EAAKhI,UAChBE,QAAS8H,EAAK9H,YAGjBoF,MAAK,SAAAC,GAAG,OAAIM,EAAcN,MC0GvBkC,CAAkBO,GACf1C,MAAK,SAACkE,GACLrC,GAAe,CAACqC,GAAF,mBAAe3K,SAE9B+I,OAAM,SAACc,GACNjN,QAAQC,IAAIgN,MAEbb,SAAQ,WACPjB,IAAY,OAsDJ7H,cAAeuJ,KAE5B,cAAC,EAAD,CACaa,OAAK,EACjBC,KAAK,gBACL7N,UAAW4G,EACXxG,SAAUA,EACEkC,oBA9HhB,SAA2BmK,GACvB1B,GAAY,GACZE,GAAuB,GACvB,IAAMiD,EAAoB1B,GAAmBlJ,GAAamJ,GAC1B,IAA7ByB,EAAkB1H,QACjBuE,GAAY,GACZa,GAAe,MAEhBb,GAAY,GACZa,GAAesC,KAsHN1L,mBAAoBqJ,GACpBlF,qBAAsBA,EACtBjB,cAAesF,EACfvF,OAAQnC,GACRqC,SAAUA,EACVrC,YAAaA,GACbE,cAAeuJ,KAE5B,cAAC,EAAD,CACaa,OAAK,EACjBC,KAAK,WACL7N,UAAW2H,EACCC,aArMhB,SAA0B3E,EAAMoF,GAElC,OADAgD,IAAY,GD1CiB,SAACpI,EAAMoF,GAClC,OAAOuB,MAAM,GAAD,OAAIH,EAAJ,aAAyB,CACnCI,OAAQ,QACRC,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBU,YAAa,UACbuB,KAAMC,KAAKC,UAAU,CACnBhJ,KAAMA,EACNoF,MAAOA,MAGV0B,MAAK,SAAAC,GAAG,OAAIM,EAAcN,MC8BtBkC,CACkBjJ,EAAMoF,GAC7B0B,MAAK,SAACC,GACHA,GACDU,EAAeV,GAChBa,GAAmB,GACJU,GHzGiB,4IG0GT,gBAAdvB,EAAIoC,QACbb,GAAsB7B,GACPmB,GAAmB,OAGhCwB,OAAM,WACRd,GH/GiC,2NGgHlCV,GAAmB,MAElByB,SAAQ,WACTjB,IAAY,OAmLIxD,gBAAiBA,EACjBC,SAAUA,GACV1H,SAAUA,EACV2H,QAASuD,GACxBtD,UAnLD,WDnFO4B,MAAM,GAAD,OAAIH,EAAJ,YAAwB,CAChCI,OAAQ,OACRW,YAAa,YAEhBT,MAAK,SAAAC,GAAG,OAAIM,EAAcN,MCiFtBD,MAAK,WACFwD,aAAaY,WAAW,UACxBxD,GAAY,GACZG,EAAU,IACVK,EAAa,IACb7B,GAAQ6C,KAAK,WA8KlB,cAAC,IAAD,CAAOyB,OAAK,EAACC,KAAK,UAAlB,SACEzN,EAAW,cAAC,IAAD,CAAUC,GAAG,MAAS,cAAC,EAAD,CAClBuI,WA5PpB,SAAwB3F,EAAMoF,EAAOY,GAEjC,OADAoC,IAAY,GDjDI,SAACpI,EAAMoF,EAAOY,GAClC,OAAOW,MAAM,GAAD,OAAIH,EAAJ,WAAuB,CACjCI,OAAQ,OACRC,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBU,YAAa,UACbuB,KAAMC,KAAKC,UAAU,CACnB,KAAQhJ,EACR,MAASoF,EACT,SAAYY,MAGfc,MAAK,SAAAC,GAAG,OAAIM,EAAcN,MCoChBkC,CACOjJ,EAAMoF,EAAOY,GACtBc,MAAK,SAACC,GACAA,GACCyB,GAAwB,IACxBK,GAAYzD,EAAOY,IACC,gBAAde,EAAIoC,MACVX,GAAwB/B,GAClBM,EAAIjC,SACV0D,GAAwBzB,EAAIjC,YAGnCsE,OAAM,WACHZ,GHpEqB,kQGsExBa,SAAQ,WACLjB,IAAY,OA2OJxC,QAAS0D,GACTzE,SAAUA,GACVC,QAASyD,OAG1B,cAAC,IAAD,CAAOoC,OAAK,EAACC,KAAK,UAAlB,SACEzN,EAAW,cAAC,IAAD,CAAUC,GAAG,MAAS,cAAC,EAAD,CACpC+I,QAAS0C,GACTjD,QAAS0D,GACTzE,SAAUA,GACQC,QAAS2D,OAG1B,cAAC,IAAD,CAAOmC,KAAK,IAAZ,SACC,cAAC,EAAD,cCxTOO,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBvE,MAAK,YAAkD,IAA/CwE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,SAG1BZ,K","file":"static/js/main.1b1cf476.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  console.log(props.loggedIn)\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/logo.8f97642a.svg\";","import {Link} from \"react-router-dom\";\r\nimport './Navigation.css';\r\nimport React from \"react\";\r\n\r\nfunction Navigation({ loggedIn }) {\r\n    const [isMenuShown, setIsMenuShown] = React.useState(false);\r\n\r\n    function handleCloseMenuButtonClick() {\r\n        setIsMenuShown(false);\r\n    }\r\n\r\n    function handleOpenMenuButtonClick() {\r\n        setIsMenuShown(true);\r\n    }\r\n\r\n    return (\r\n        <div className='header__navigation'>\r\n            <div className={loggedIn ? 'header__navigation-login_invisible' : 'header__navigation-login'}>\r\n                <Link to=\"/signup\" className='header__link header__link_type_register'>Регистрация</Link>\r\n                <Link to=\"/signin\" className='header__link header__link_type_register_button'>Войти</Link>\r\n            </div>\r\n            <div className={loggedIn ? 'header__navigation-movies' : 'header__navigation-movies_invisible'}>\r\n                <Link to=\"/movies\" className=\"header__link header__link_type_movies\">Фильмы</Link>\r\n                <Link to=\"/saved-movies\" className=\"header__link header__link_type_movies\">Сохранённые фильмы</Link>\r\n                <Link to=\"/profile\" className=\"header__link header__link_type_movies_button\">Аккаунт</Link>\r\n            </div>\r\n            <button className={loggedIn ? 'header__menu-button' : 'header__menu-button_invisible'} onClick={handleOpenMenuButtonClick}></button>\r\n            <div className={isMenuShown ? 'header__menu' : 'header__menu_invisible'}>\r\n                <button className=\"header__menu-close-button\" onClick={handleCloseMenuButtonClick}></button>\r\n                <div className='header__menu-container'>\r\n                    <div className=\"header__menu-links\">\r\n                        <Link to=\"/\" className=\"header__menu-link\">Главная</Link>\r\n                        <Link to=\"/movies\" className=\"header__menu-link\">Фильмы</Link>\r\n                        <Link to=\"/saved-movies\" className=\"header__menu-link\">Сохранённые фильмы</Link>\r\n                        <Link to=\"/profile\" className=\"header__menu-link header__menu-link_type_account\">Аккаунт</Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navigation;","import logo from '../../images/logo.svg';\r\nimport Navigation from \"../Navigation/Navigation\";\r\nimport './Header.css'\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Header({ main, loggedIn, }) {\r\n    return (\r\n        <section className={main ? 'header' : 'header header_loggedIn'}>\r\n            <Link to=\"/\">\r\n                <img\r\n                    className=\"header__logo\"\r\n                    src={logo}\r\n                    alt=\"Логотип\"\r\n                />\r\n            </Link>\r\n            <Navigation loggedIn={loggedIn}/>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Header;","export default __webpack_public_path__ + \"static/media/promo.872d9c2d.svg\";","import promo from \"../../images/promo.svg\";\r\nimport './Promo.css';\r\n\r\nfunction Promo() {\r\n    return (\r\n        <section className=\"promo\">\r\n            <img className=\"promo__image\" alt=\"Логотип\" src={promo}/>\r\n            <div className=\"promo__group\">\r\n                <h1 className=\"promo__title\">Учебный проект студента факультета Веб-разработки.</h1>\r\n                <p className=\"promo__text\">Листайте ниже, чтобы узнать больше про этот проект и его создателя.</p>\r\n                <a href=\"#about-project\" className=\"promo__button\">Узнать больше</a>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Promo;","import './AboutProject.css';\r\n\r\nfunction AboutProject() {\r\n    return (\r\n        <section className=\"about-project\" id=\"about-project\">\r\n            <h2 className=\"about-project__title\">О проекте</h2>\r\n            <div className=\"about-project__info\">\r\n                <div className=\"about-project__info_group\">\r\n                    <h3 className=\"about-project__info-title\">\r\n                        Дипломный проект включал 5 этапов\r\n                    </h3>\r\n\t\t\t        <p className=\"about-project__info-text\">\r\n\t\t\t\t        Составление плана, работу над бэкендом, вёрстку, добавление\r\n\t\t\t        \tфункциональности и финальные доработки.\r\n\t\t\t        </p>\r\n\t        \t</div>\r\n                <div className=\"about-project__info_group\">\r\n\t\t        \t<h3 className=\"about-project__info-title\">\r\n\t\t\t\t        На выполнение диплома ушло 5 недель\r\n\t\t        \t</h3>\r\n\t\t        \t<p className=\"about-project__info-text\">\r\n\t\t\t         \tУ каждого этапа был мягкий и жёсткий дедлайн, которые нужно было\r\n\t\t        \t\tсоблюдать, чтобы успешно защититься.\r\n\t    \t    \t</p>\r\n\t        \t</div>\r\n            </div>\r\n            <div className=\"about-project__steps\">\r\n                <p className=\"about-project__steps-text about-project__steps-text_type_one-week\">1 неделя</p>\r\n                <p className=\"about-project__steps-text about-project__steps-text_type_four-week\">4 недели</p>\r\n                <p className=\"about-project__description-text about-project__description-text-back\">Back-end</p>\r\n                <p className=\"about-project__description-text about-project__description-text-front\">Front-end</p>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default AboutProject;","import './Techs.css';\r\n\r\nfunction Techs() {\r\n    return(\r\n        <section className=\"techs\">\r\n            <h2 className=\"techs__heading\">Технологии</h2>\r\n            <h3 className=\"techs__title\">7 технологий</h3>\r\n            <p className=\"techs__subtitle\">\r\n\t        \tНа курсе веб-разработки мы освоили технологии, которые применили в дипломном\r\n\t        \tпроекте.\r\n\t        </p>\r\n            <ul className=\"techs__list\">\r\n                <li className=\"techs__list-item\">HTML</li>\r\n                <li className=\"techs__list-item\">CSS</li>\r\n                <li className=\"techs__list-item\">JS</li>\r\n                <li className=\"techs__list-item\">React</li>\r\n                <li className=\"techs__list-item\">Git</li>\r\n                <li className=\"techs__list-item\">Express.js</li>\r\n                <li className=\"techs__list-item\">mongoDB</li>\r\n            </ul>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Techs;","export default __webpack_public_path__ + \"static/media/photo.3add009c.jpg\";","import photo from '../../images/photo.jpg';\r\nimport './AboutMe.css';\r\n\r\nfunction AboutMe() {\r\n    return (\r\n        <section className=\"about-me\">\r\n          <h2 className=\"about-me__heading\">Студент</h2>\r\n           <div className=\"about-me__description\">\r\n                <div className=\"about-me__description-text\">\r\n                    <h3 className=\"about-me__description-title\">Юля</h3>\r\n                    <p className=\"about-me__description-subtitle\">\r\n                    Фронтенд-разработчик, 23 года\r\n                    </p>\r\n                    <p className=\"about-me__description-paragraph\">\r\n                        Я живу в Минске. Увлекаюсь музыкой. В свободное время играю на клавишах\r\n                        в группе. На данный момент занимаюсь своим развитием в сфере\r\n                        прогаммирования. После окончания Яндекс Практикума буду готоваиться к\r\n                        поиску работы.\r\n                    </p>\r\n                    <a\r\n                        className=\"about-me__description-link\"\r\n                        href=\"https://github.com/0Julia0\"\r\n                        target=\"_blank\"\r\n                        rel=\"noreferrer\"\r\n                    >\r\n                       Github\r\n                    </a>\r\n                </div>\r\n                <img className=\"about-me__description-photo\" src={photo} alt=\"Юля\" />\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default AboutMe;","import './Footer.css'\r\n\r\nfunction Footer() {\r\n    return (\r\n    \t<section className=\"footer\">\r\n    \t\t<p className=\"footer__text\">Учебный проект Яндекс.Практикум х BeatFilm.</p>\r\n    \t\t<div className=\"footer__nav\">\r\n        \t\t<p className=\"footer__copyright\">&copy; 2020</p>\r\n        \t\t<ul className=\"footer__links\">\r\n           \t\t \t<li className=\"footer__links-element\">\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\tclassName=\"footer__link\"\r\n\t\t\t\t\t\t\thref=\"https://praktikum.yandex.ru/\"\r\n\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\trel=\"noreferrer\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tЯндекс.Практикум\r\n\t\t\t\t\t\t</a>\r\n\t\t\t  \t    </li>\r\n\t\t    \t\t<li className=\"footer__links-element\">\r\n\t\t\t \t\t   \t<a\r\n\t\t\t\t\t\t\tclassName=\"footer__link\"\r\n\t\t\t\t\t\t\thref=\"https://github.com\"\r\n\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\trel=\"noreferrer\"\r\n\t\t\t\t  \t\t>\r\n\t\t\t\t\t\t\tGithub\r\n\t\t\t  \t\t  \t</a>\r\n\t\t\t \t    </li>\r\n\t\t    \t\t<li className=\"footer__links-element\">\r\n\t\t\t    \t\t<a\r\n\t\t\t\t\t\t\tclassName=\"footer__link\"\r\n\t\t\t\t\t\t\thref=\"https://www.facebook.com\"\r\n\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\trel=\"noreferrer\"\r\n\t\t\t  \t\t  \t>\r\n\t\t\t\t\t\t\tFacebook\r\n\t\t\t    \t\t</a>\r\n\t\t    \t\t</li>\r\n\t    \t\t</ul>\r\n    \t\t</div>\r\n    \t</section>\r\n    )\r\n}\r\n\r\nexport default Footer;","import './Portfolio.css';\r\n\r\nfunction Portfolio() {\r\n    return (\r\n        <section className=\"portfolio\">\r\n            <h4 className=\"portfolio__title\">Портфолио</h4>\r\n            <ul className=\"portfolio__links\">\r\n                <li className=\"portfolio__links-element\">\r\n                    <a\r\n\t\t\t\t\t    className=\"portfolio__link\"\r\n\t\t\t   \t\t\thref=\"https://0julia0.github.io/how-to-learn/\"\r\n\t\t\t    \t\ttarget=\"_blank\"\r\n\t\t\t    \t\trel=\"noreferrer\"\r\n\t\t        \t>\r\n\t\t\t    \t\tСтатичный сайт\r\n\t\t        \t</a>\r\n\t        \t</li>\r\n\t        \t<li className=\"portfolio__links-element\">\r\n\t\t        \t<a\r\n\t\t    \t\t\tclassName=\"portfolio__link\"\r\n\t\t\t    \t\thref=\"https://0julia0.github.io/russian-travel/index.html\"\r\n\t\t    \t\t\ttarget=\"_blank\"\r\n\t\t    \t\t\trel=\"noreferrer\"\r\n\t\t        \t>\r\n\t\t    \t\t\tАдаптивный сайт\r\n\t\t        \t</a>\r\n\t        \t</li>\r\n\t\t        <li className=\"portfolio__links-element\">\r\n\t\t        \t<a\r\n\t\t    \t\t\tclassName=\"portfolio__link\"\r\n\t\t    \t\t\thref=\"https://julia.p.nomoredomains.club/\"\r\n\t\t    \t\t\ttarget=\"_blank\"\r\n\t\t\t    \t\trel=\"noreferrer\"\r\n\t\t        \t>\r\n\t\t\t    \t\tОдностраничное приложение\r\n\t\t        \t</a>\r\n\t        \t</li>\r\n        \t</ul>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Portfolio;","import Header from \"../Header/Header\";\r\nimport Promo from \"../Promo/Promo\";\r\nimport AboutProject from \"../AboutProject/AboutProject\";\r\nimport Techs from \"../Techs/Techs\";\r\nimport AboutMe from \"../AboutMe/AboutMe\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport Portfolio from \"../Portfolio/Portfolio\";\r\n\r\nfunction Main({ loggedIn, }) {\r\n    return (\r\n    <>\r\n       <Header loggedIn={loggedIn} main={true}/>\r\n       <Promo />\r\n       <AboutProject />\r\n       <Techs />\r\n       <AboutMe />\r\n       <Portfolio />\r\n        <Footer />\r\n    </>\r\n\r\n    )\r\n}\r\n\r\nexport default Main;","export default __webpack_public_path__ + \"static/media/search_icon.9d65490b.svg\";","import './FilterCheckbox.css';\r\n\r\nfunction FilterCheckbox({ onChange, isChecked, }) {\r\n    return (\r\n        <label className=\"search__toggle-label\">\r\n            <input className=\"search__toggle\" id=\"short-films\" type=\"checkbox\" onChange={onChange} checked={isChecked}/>\r\n            <span className=\"search__toggle_visible\"></span>\r\n        </label>\r\n    )\r\n}\r\n\r\nexport default FilterCheckbox;","import './SearchForm.css';\r\nimport search_icon from '../../images/search_icon.svg';\r\nimport FilterCheckbox from \"../FilterCheckbox/FilterCheckbox\";\r\nimport React from \"react\";\r\n\r\nfunction SearchForm({\r\n\tonSearchMovies,\r\n    onSearchSavedMovies,\r\n    saved,\r\n\tonShortMoviesCheck,\r\n    isChecked\r\n}) {\r\n    const [search, setSearch] = React.useState('');\r\n    const [isSearchValid, setIsSearchValid] = React.useState(true);\r\n\r\n    function handleCheckValidity() {\r\n        if (search === \"\") {\r\n            setIsSearchValid(false);\r\n        } else {\r\n            setIsSearchValid(true);\r\n        }\r\n    }\r\n\r\n    function handleSearchChange(evt) {\r\n        setSearch(evt.target.value);\r\n    }\r\n\r\n    function handleSearchSavedMovies(evt) {\r\n        evt.preventDefault();\r\n        onSearchSavedMovies(search);\r\n    }\r\n\r\n    function handleSearchMovies(evt) {\r\n        evt.preventDefault();\r\n        onSearchMovies(search);\r\n    }\r\n\r\n    return (\r\n        <section className=\"search\">\r\n           <form\r\n                className=\"search__form\"\r\n                onSubmit={saved ? handleSearchSavedMovies : handleSearchMovies}\r\n            >\r\n                <img className=\"search__form-icon\" src={search_icon} alt=\"Поиск\" />\r\n                <fieldset className=\"search__form-field\">\r\n                   <input\r\n                        className=\"search__form-input\"\r\n                        type=\"text\"\r\n                        name=\"search\"\r\n                        placeholder=\"Фильм\"\r\n                        value={search}\r\n                        onChange={handleSearchChange}\r\n                    />\r\n                    <span\r\n\t                    className={isSearchValid ? 'search__form-error search__form-error_invisible' : 'search__form-error'}\r\n                    >\r\n                    \tНужно ввести ключевое слово\r\n                    </span>\r\n                </fieldset>\r\n                <button \r\n                    className=\"search__form-button\" \r\n                    type=\"submit\"\r\n                    onClick={handleCheckValidity}\r\n                >\r\n                </button>\r\n                <div className=\"search__toggle-box\">\r\n                    <FilterCheckbox\r\n                        onChange={onShortMoviesCheck}\r\n                        isChecked={isChecked}\r\n                    />\r\n                    <h3 className=\"search__toggle-text\">Короткометражки</h3>\r\n                </div>\r\n            </form>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default SearchForm;","import './MoviesCard.css';\r\nimport React from \"react\";\r\nimport {useLocation} from 'react-router-dom';\r\n\r\nfunction MoviesCard({\r\n\tmovie,\r\n    savedMovies,\r\n\tonMovieSave,\r\n\tonMovieDelete,\r\n\tsaved,\r\n}) {\r\n    const [isDeleteButtonVisible, setIsDeleteButtonVisible] = React.useState(false);\r\n    const [isSaved, setIsSaved] = React.useState(false);\r\n\r\n    const film = {\r\n        country : movie.country,\r\n        director: movie.director,\r\n        duration: movie.duration,\r\n        year: movie.year,\r\n        description: movie.description,\r\n        image: `https://api.nomoreparties.co${movie.image?.url}`,\r\n        trailer: movie?.trailerLink,\r\n        nameRU: movie.nameRU,\r\n        nameEN: movie.nameEN,\r\n        thumbnail: `https://api.nomoreparties.co${movie.image?.formats?.thumbnail?.url}`,\r\n        movieId: movie.id,\r\n    }\r\n\r\n    const currentMovie = savedMovies.find((film) => film.nameRU === movie.nameRU);\r\n\r\n    const location = useLocation();\r\n\r\n    function handleCardMouseOver() {\r\n        setIsDeleteButtonVisible(true);\r\n    }\r\n\r\n    function handleCardMouseOut() {\r\n        setIsDeleteButtonVisible(false);\r\n    }\r\n\r\n    function handleLike(evt) {\r\n        evt.preventDefault();\r\n        setIsSaved(true);\r\n        onMovieSave(film);\r\n    }\r\n\r\n    function handleDislike(evt) {\r\n        evt.preventDefault();\r\n        setIsSaved(false);\r\n        onMovieDelete(currentMovie._id);\r\n    }\r\n\r\n    function handleDeleteMovie(evt) {\r\n        evt.preventDefault();\r\n        onMovieDelete(movie._id);\r\n        setIsSaved(false);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        if(currentMovie) {\r\n            setIsSaved(true)\r\n        }\r\n\r\n    }, [currentMovie, location])\r\n\r\n    return (\r\n        <li className=\"movies__list-item\">\r\n            <a className=\"movies__list-link\" href={saved ? movie.trailer : movie.trailerLink} target=\"_blank\" rel=\"noreferrer\">\r\n                <img className=\"movies__list-poster\" alt={movie.nameRU} src={saved ? movie.image : `https://api.nomoreparties.co${movie.image?.url}`}/>\r\n            </a>\r\n            <div className=\"movies__list-description\" onMouseEnter={handleCardMouseOver} onMouseLeave={handleCardMouseOut}>\r\n                <p className=\"movies__list-title\">{movie.nameRU}</p>\r\n                {saved ?\r\n                    <button className={isDeleteButtonVisible ? 'movies__list-delete movies__list-delete_visible' : 'movies__list-delete'} onClick={handleDeleteMovie}></button> :\r\n                    <button className={`movies__list-like ${isSaved ? 'movies__list-like_active' : ''}`} onClick={isSaved ? handleDislike : handleLike}></button>\r\n                }\r\n            </div>\r\n            <p className=\"movies__list-duration\">{`${Math.trunc(film.duration/60)}ч ${film.duration % 60}м`}</p>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default MoviesCard;","import React from 'react'\r\nimport './Preloader.css'\r\n\r\nconst Preloader = ({ isSearching }) => {\r\n    return (\r\n        <div className={isSearching ? 'preloader' : 'preloader preloader__invisible'}>\r\n            <div className=\"preloader__container\">\r\n                <span className=\"preloader__round\"></span>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Preloader","import './MoviesCardList.css';\r\nimport MoviesCard from \"../MoviesCard/MoviesCard\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\nimport React from \"react\";\r\n\r\nfunction MoviesCardList({\r\n\tmovies,\r\n\tisSearching,\r\n\tisErrorActive,\r\n\tnotFound,\r\n\tsaved,\r\n    savedMovies,\r\n    onMovieSave,\r\n    onMovieDelete,\r\n}) {\r\n    const [initialCards, setInitialCards] = React.useState(() => {\r\n        const windowWidth = window.innerWidth;\r\n        if(windowWidth < 720) {\r\n            return 5\r\n        } else if(windowWidth < 920) {\r\n            return 8\r\n        } else if(windowWidth > 920) {\r\n            return 12 \r\n        }\r\n    } );\r\n    const [moreCards, setMoreCards] = React.useState(() => {\r\n        const windowWidth = window.innerWidth;\r\n        if(windowWidth < 720) {\r\n            return 2;\r\n        } else if(windowWidth < 920) {\r\n            return 2\r\n        } else if(windowWidth > 920) {\r\n            return 3\r\n        }\r\n    });\r\n\r\n    function handleScreenWidth () {\r\n        const windowWidth = window.innerWidth;\r\n        if(windowWidth < 720) {\r\n            setInitialCards(5)\r\n            setMoreCards(2)\r\n        } else if(windowWidth < 920) {\r\n            setInitialCards(8)\r\n            setMoreCards(2)\r\n        } else if(windowWidth > 920) {\r\n            setInitialCards(12)\r\n            setMoreCards(3)\r\n        }\r\n    }\r\n\r\n    const displayedMovies = movies?.slice(0, initialCards);\r\n\r\n    function handleAddMovie() {\r\n        setInitialCards(prevState => {return prevState + moreCards});\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        window.addEventListener('resize', handleScreenWidth);\r\n    }, []);\r\n\r\n    return (\r\n        <section className=\"movies\">\r\n            <Preloader isSearching={isSearching} />\r\n            <span className={isErrorActive ? 'movies__error' : 'movies__error movies__error_invisible'}>\r\n                Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер \r\n                недоступен. Подождите немного и попробуйте ещё раз\r\n            </span>\r\n            <span className={notFound ? 'movies__error' : 'movies__error movies__error_invisible'}>Ничего не найдено</span>\r\n            <ul className=\"movies__list\">\r\n                {displayedMovies?.map(movie => \r\n                    <MoviesCard \r\n                        key={saved ? movie.movieId : movie.id}\r\n                        movie={movie}\r\n                        saved={saved}\r\n                        savedMovies={savedMovies}\r\n                        onMovieSave={onMovieSave}\r\n                        onMovieDelete={onMovieDelete}\r\n                    />\r\n                )}\r\n            </ul>\r\n            <button \r\n                className={movies?.length === displayedMovies?.length ? 'movies__button movies__button_invisible' : 'movies__button'}\r\n                onClick={handleAddMovie}\r\n                >\r\n                    Еще\r\n            </button>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default MoviesCardList;","import Header from \"../Header/Header\";\r\nimport SearchForm from \"../SearchForm/SearchForm\";\r\nimport MoviesCardList from \"../MoviesCardList/MoviesCardList\";\r\nimport Footer from \"../Footer/Footer\";\r\n\r\nfunction Movies({\r\n\tloggedIn,\r\n\tonSearchMovies,\r\n\tonShortMoviesCheck,\r\n\tisShortMoviesChecked,\r\n\tmovies,\r\n\tisSearching,\r\n    isErrorActive,\r\n\tnotFound,\r\n    savedMovies,\r\n\tonMovieSave,\r\n\tonMovieDelete,\r\n}) {\r\n    return (\r\n        <>\r\n        <Header loggedIn={loggedIn} main={false}/>\r\n        <SearchForm\r\n        \tonSearchMovies={onSearchMovies}\r\n            saved={false}\r\n        \tonShortMoviesCheck={onShortMoviesCheck}\r\n        \tisChecked={isShortMoviesChecked}\r\n        />\r\n        <MoviesCardList \r\n            movies={movies} \r\n            isSearching={isSearching}\r\n            isErrorActive={isErrorActive} \r\n            notFound={notFound}\r\n            saved={false}\r\n            savedMovies={savedMovies}\r\n            onMovieSave={onMovieSave}\r\n            onMovieDelete={onMovieDelete}\r\n        />\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Movies;","import Header from \"../Header/Header\";\r\nimport SearchForm from \"../SearchForm/SearchForm\";\r\nimport MoviesCardList from \"../MoviesCardList/MoviesCardList\";\r\nimport Footer from \"../Footer/Footer\";\r\n\r\nfunction SavedMovies({\r\n\tloggedIn,\r\n    onSearchSavedMovies,\r\n\tonShortMoviesCheck,\r\n\tisShortMoviesChecked,\r\n    onMovieDelete,\r\n    movies,\r\n    savedMovies,\r\n    notFound,\r\n    isErrorActive\r\n}) {\r\n    return (\r\n        <>\r\n            <Header loggedIn={loggedIn} main={false}/>\r\n            <SearchForm \r\n                onSearchSavedMovies={onSearchSavedMovies}\r\n                saved={true}\r\n                onShortMoviesCheck={onShortMoviesCheck}\r\n                isChecked={isShortMoviesChecked}\r\n            />\r\n            <MoviesCardList \r\n                movies={movies}\r\n                saved={true}\r\n                savedMovies={savedMovies}\r\n                onMovieDelete={onMovieDelete}\r\n                notFound={notFound}\r\n                isErrorActive={isErrorActive} \r\n            />\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SavedMovies;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\n\r\nexport function useValidation() {\r\n    const [values, setValues] = React.useState({});\r\n    const [errors, setErrors] = React.useState({});\r\n    const [isValid, setIsValid] = React.useState(false);\r\n\r\n    function handleChange(event) {\r\n        const target = event.target;\r\n        const name = target.name;\r\n        const value = target.value;\r\n        setValues({ ...values, [name]: value });\r\n        setErrors({ ...errors, [name]: target.validationMessage });\r\n        setIsValid(target.closest('form').checkValidity());\r\n    }\r\n\r\n    return { values, setValues, handleChange, errors, isValid, setIsValid };\r\n}","import React from \"react\";\r\nimport './Profile.css';\r\nimport Header from \"../Header/Header\";\r\nimport {CurrentUserContext} from \"../../contexts/CurrentUserContext\";\r\nimport {useValidation} from \"../../hooks/useValidation\";\r\nimport validator from \"validator\";\r\n\r\nfunction Profile({\r\n\tonUpdateUser,\r\n\tisUpdateSuccess,\r\n\tisSaving,\r\n\tloggedIn,\r\n    message,\r\n    onSignOut\r\n}) {\r\n    const {values, setValues, handleChange, errors, isValid, setIsValid} = useValidation();\r\n    const [isFormDisabled, setIsFormDisabled] = React.useState(true);\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n    React.useEffect(() => {\r\n        setValues(currentUser);\r\n      }, [currentUser, setValues]);\r\n\r\n      function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        if(validator.isEmail) {\r\n            onUpdateUser(values.name, values.email);\r\n        }\r\n      }\r\n\r\n    function handleEditProfileClick(evt) {\r\n        evt.preventDefault();\r\n        setIsFormDisabled(false);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setIsFormDisabled(isUpdateSuccess);\r\n    },[isUpdateSuccess, onUpdateUser])\r\n\r\n    React.useEffect(() => {\r\n        if(isSaving) {\r\n            setIsFormDisabled(true);\r\n        }\r\n    }, [isSaving])\r\n\r\n    React.useEffect(() => {\r\n        if (\r\n          currentUser.name === values.name &&\r\n          currentUser.email === values.email\r\n        ) {\r\n          setIsValid(false);\r\n          setIsFormDisabled(true)\r\n        }\r\n      }, [setIsValid, values, currentUser]);\r\n\r\n    return (\r\n        <>\r\n        <Header loggedIn={loggedIn} main={false}/>\r\n            <section className=\"profile\">\r\n                <h2 className=\"profile__title\">Привет, {currentUser.name}!</h2>\r\n                <form className=\"profile__form\" onSubmit={handleSubmit}>\r\n                    <fieldset className=\"profile__fields\">\r\n                        <div className=\"profile__input\">\r\n                            <p className=\"profile__input-text\">Имя</p>\r\n                            <input \r\n                                className=\"profile__input-field\"\r\n                                type=\"text\"\r\n                                name=\"name\"\r\n                                value={values.name}\r\n                                placeholder=\"Юля\"\r\n                                onChange={handleChange}\r\n                                disabled={isFormDisabled}\r\n                                required\r\n                            />\r\n                        </div>\r\n                        <span className=\"profile__error\">{errors.name}</span>\r\n                        <div className=\"profile__input\">\r\n                            <p className=\"profile__input-text\">Email</p>\r\n                            <input \r\n                                className=\"profile__input-field\" \r\n                                type=\"email\"\r\n                                name=\"email\"\r\n                                value={values.email}\r\n                                placeholder=\"Email@email.ru\"\r\n                                onChange={handleChange}\r\n                                disabled={isFormDisabled}\r\n                                required\r\n                            />\r\n                        </div>\r\n                        <span className=\"profile__error\">{errors.email}</span>\r\n                    </fieldset>\r\n                    <span className={'profile__error'}>{message}</span>\r\n                    {isFormDisabled ? <button className=\"profile__button profile__button_type_edit\" onClick={handleEditProfileClick}>Редактировать</button> :\r\n                        <button \r\n                            className={isValid ? 'profile__button profile__button_type_save' : 'profile__button profile__button_type_save_disabled'} \r\n                            type=\"submit\" \r\n                            disabled={!isValid}\r\n                        >\r\n                            Сохранить\r\n                        </button>}\r\n                </form>\r\n                <button \r\n                    className={isFormDisabled ? 'profile__link' : 'profile__link_invisible'}\r\n                    onClick={onSignOut}\r\n                >\r\n                    Выйти из аккаунта\r\n                </button>\r\n            </section>\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport \"./Register.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport logo from \"../../images/logo.svg\";\r\nimport {useValidation} from \"../../hooks/useValidation\";\r\nvar validator = require(\"email-validator\");\r\n\r\nfunction Register({\r\n\tonRegister,\r\n\tonClear,\r\n\tisSaving,\r\n\tmessage\r\n}) {\r\n    const {values, handleChange, errors, isValid} = useValidation();\r\n    const [isEmailValid, setEmailValid] = React.useState();\r\n\r\n    function handleRegister(evt) {\r\n        evt.preventDefault();\r\n        setEmailValid(true)\r\n        if(validator.validate(values.email)) {\r\n            onRegister(values.name, values.email, values.password);\r\n            onClear();\r\n        } else {\r\n            setEmailValid(false)\r\n        }\r\n      }\r\n\r\n    return (\r\n        <section className=\"register\">\r\n            <Link to=\"/\">\r\n                <img\r\n                    className=\"register__logo\"\r\n                    src={logo}\r\n                    alt=\"Логотип\"\r\n                />\r\n            </Link>\r\n            <h2 className=\"register__title\">Добро пожаловать!</h2>\r\n            <form className=\"register__form\" onSubmit={handleRegister}>\r\n                <fieldset className=\"register__fields\">\r\n                    <p className=\"register__text\">Имя</p>\r\n                    <input \r\n                        className=\"register__input\" \r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        value={values.name}\r\n                        onChange={handleChange}\r\n                        required\r\n                    />\r\n                    <span className=\"register__error\">{errors.name}</span>\r\n                    <p className=\"register__text\">E-mail</p>\r\n                    <input \r\n                        className=\"register__input\" \r\n                        type=\"email\"\r\n                        name=\"email\"\r\n                        value={values.email}\r\n                        onChange={handleChange}\r\n                        required\r\n                    />\r\n                    <span className={isEmailValid  ? 'register__error' : 'register__error register__error_invisible'}>Почта не валидна.</span>\r\n                    <p className=\"register__text\">Пароль</p>\r\n                    <input \r\n                        className=\"register__input\" \r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        value={values.password}\r\n                        onChange={handleChange}\r\n                        required \r\n                        minLength=\"8\"\r\n                    />\r\n                    <span className=\"register__error\">{errors.password}</span>\r\n                </fieldset>\r\n                <span className={isSaving ? 'register__error register__error_invisible' : 'register__error'}>{message}</span>\r\n                <button \r\n                    className={isValid ? 'register__button' : 'register__button register__button_disabled'}\r\n                    type=\"submit\" \r\n                    disabled={!isValid}\r\n                >\r\n                    Зарегистрироваться\r\n                </button>\r\n            </form>\r\n                <h3 className=\"register__subtitle\">Уже зарегистрированы?\r\n                    <Link \r\n                        className=\"register__link\" \r\n                        to=\"/signin\"  \r\n                        onClick={onClear}\r\n                    > \r\n                        Войти\r\n                    </Link>\r\n                </h3>\r\n        </section>\r\n\r\n    )\r\n}\r\n\r\nexport default Register;","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport \"./Login.css\";\r\nimport logo from \"../../images/logo.svg\";\r\nimport {useValidation} from \"../../hooks/useValidation\";\r\nvar validator = require(\"email-validator\");\r\n\r\nfunction Login({ \r\n    onLogin, \r\n    onClear, \r\n    isSaving,\r\n    message\r\n}) {\r\n    const {values, handleChange, errors, isValid} = useValidation();\r\n    \r\n    function handleLogin(evt) {\r\n        evt.preventDefault();\r\n        if(validator.validate(values.email)) {\r\n            onLogin(values.email, values.password);\r\n            onClear();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <section className=\"login\">\r\n            <Link to=\"/\">\r\n                <img\r\n                    className=\"login__logo\"\r\n                    src={logo}\r\n                    alt=\"Логотип\"\r\n                />\r\n            </Link>\r\n            <h2 className=\"login__title\">Рады видеть!</h2>\r\n            <form className=\"login__form\" onSubmit={handleLogin}>\r\n                <fieldset className=\"login__fields\">\r\n                    <p className=\"login__text\">E-mail</p>\r\n                    <input \r\n                        className=\"login__input\" \r\n                        type=\"email\"\r\n                        name=\"email\"\r\n                        value={values.email}\r\n                        onChange={handleChange}\r\n                        required/>\r\n                    <span className=\"login__error\">{errors.password}</span>\r\n                    <p className=\"login__text\">Пароль</p>\r\n                    <input \r\n                        className=\"login__input\" \r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        value={values.password}\r\n                        onChange={handleChange}\r\n                        required \r\n                        minLength=\"8\"/>\r\n                    <span className=\"login__error\">{errors.password}</span>\r\n                </fieldset>\r\n                <span className={isSaving ? 'login__error login__error_invisible' : 'login__error'}>{message}</span>\r\n                <button \r\n                    className={isValid ? 'login__button' : 'login__button login__button_disabled'} \r\n                    type=\"submit\" \r\n                    disabled={!isValid}\r\n                >\r\n                    Войти\r\n                </button>\r\n            </form>\r\n                <h3 className=\"login__subtitle\">Ещё не зарегистрированы?\r\n                    <Link \r\n                        className=\"login__link\" \r\n                        to=\"/signup\" \r\n                        onClick={onClear}\r\n                    >\r\n                        Регистрация\r\n                    </Link>\r\n                </h3>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Login;","  \r\nimport './NotFound.css';\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nfunction NotFound() {\r\n    const history = useHistory();\r\n\r\n    function handleBackLink() {\r\n        history.goBack()\r\n    }\r\n\r\n    return (\r\n        <section className=\"not-found\">\r\n            <h2 className=\"not-found__title\">404</h2>\r\n            <p className=\"not-found__subtitle\">Страница не найдена</p>\r\n            <Link to=\"/\" className=\"not-found__link\" onClick={handleBackLink}>Назад</Link>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default NotFound;","export const BASE_URL = 'https://api.movies-explorer-julia.nomoredomains.club';\r\nexport const MOVIES_BASE_URL = 'https://api.nomoreparties.co/beatfilm-movies';\r\n\r\nexport const badRequestErrorText = 'Введены невалидные данные.';\r\nexport const registrationErrorText = 'При регистрации пользователя произошла ошибка.';\r\nexport const authorizationErrorText = 'При авторизации произошла ошибка. Токен не передан или передан не в том формате.';\r\nexport const successProfileMessage = 'Профиль успешно обновлен!';\r\nexport const updateProfileErrorText = 'При обновлении профиля произошла ошибка.';","import { MOVIES_BASE_URL } from './constants';\r\n\r\nconst checkResponse = (res) => {\r\n    if (!res.ok) {\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n    return res.json();\r\n  };\r\n\r\nexport function getMovies() {\r\n    return fetch(`${MOVIES_BASE_URL}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n        }\r\n    })\r\n    .then(res => checkResponse(res));\r\n};","import { BASE_URL } from './constants';\r\n\r\nconst checkResponse = (res) => {\r\n  if (!res.ok) {\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n  return res.json();\r\n};\r\n\r\nexport const register = (name, email, password) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      credentials: 'include',\r\n      body: JSON.stringify({\r\n        \"name\": name,\r\n        \"email\": email,\r\n        \"password\": password,\r\n      }),\r\n    })\r\n    .then(res => checkResponse(res));\r\n  };\r\n\r\n  export const authorize = (email, password) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      credentials: 'include',\r\n      body: JSON.stringify({\r\n        \"email\": email,\r\n        \"password\": password,\r\n      }),\r\n    })\r\n    .then(res => checkResponse(res));\r\n  };\r\n\r\n  export const logout = () => {\r\n    return fetch(`${BASE_URL}/signout`, {\r\n        method: 'POST',\r\n        credentials: \"include\"\r\n    })\r\n    .then(res => checkResponse(res));\r\n  };\r\n\r\n  export const getUserInfo = () => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      credentials: 'include',\r\n    })\r\n    .then(res => checkResponse(res));\r\n  };\r\n\r\n  export const updateProfile = (name, email) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      credentials: 'include',\r\n      body: JSON.stringify({\r\n        name: name,\r\n        email: email\r\n    })\r\n    })\r\n    .then(res => checkResponse(res));\r\n  };\r\n\r\n  export const getUserMovies = () => {\r\n    return fetch(`${BASE_URL}/movies`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      credentials: 'include',\r\n    })\r\n    .then(res => checkResponse(res));\r\n  };\r\n\r\n  export const saveMovie = (data) => {\r\n    return fetch(`${BASE_URL}/movies`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      credentials: 'include',\r\n      body: JSON.stringify({\r\n        country: data.country,\r\n        director: data.director,\r\n        duration: data.duration,\r\n        year: data.year,\r\n        description: data.description,\r\n        image: data.image,\r\n        trailer: data.trailer,\r\n        nameRU: data.nameRU,\r\n        nameEN: data.nameEN,\r\n        thumbnail: data.thumbnail,\r\n        movieId: data.movieId\r\n      })\r\n    })\r\n    .then(res => checkResponse(res));\r\n  };\r\n\r\n  export const deleteMovie = (data) => {\r\n    return fetch(`${BASE_URL}/movies/${data}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      credentials: 'include',\r\n    })\r\n    .then(res => checkResponse(res));\r\n  };","import React from 'react';\r\nimport { Switch, Route, Redirect, useHistory } from 'react-router-dom';\r\nimport './App.css';\r\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\r\nimport Main from \"../Main/Main\";\r\nimport Movies from '../Movies/Movies';\r\nimport SavedMovies from \"../SavedMovies/SavedMovies\";\r\nimport Profile from \"../Profile/Profile\";\r\nimport Register from \"../Register/Register\";\r\nimport Login from \"../Login/Login\";\r\nimport NotFound from \"../NotFound/NotFound\";\r\nimport * as moviesApi from '../../utils/MoviesApi';\r\nimport * as mainApi from '../../utils/MainApi';\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\nimport { \r\n    badRequestErrorText, \r\n    registrationErrorText,\r\n    authorizationErrorText,\r\n    successProfileMessage,\r\n    updateProfileErrorText\r\n } from '../../utils/constants';\r\n\r\nfunction App() {\r\n    const [currentUser, setCurrentUser] = React.useState({});\r\n    const [loggedIn, setLoggedIn] = React.useState(false);\r\n\tconst [isSearching, setIsSearching] = React.useState(false);\r\n\tconst [isUpdateSuccess, setIsUpdateSuccess] = React.useState(true);\r\n\tconst [movies, setMovies] = React.useState([]);\r\n\tconst [notFound, setNotFound] = React.useState(false);\r\n\tconst [isMoviesErrorActive, setIsMoviesErrorActive] = React.useState(false);\r\n\tconst [allMovies, setAllMovies] = React.useState([]);\r\n    const [isShortMoviesChecked, setIsShortMoviesChecked] = React.useState(false);\r\n    const [isSaving, setIsSaving] = React.useState(false);\r\n\tconst [editProfileMessage, setEditProfileMessage] = React.useState('');\r\n    const [registerErrorMessage, setRegisterErrorMessage] = React.useState('');\r\n    const [loginErrorMessage, setLoginErrorMessage] = React.useState('');\r\n    const [savedMovies, setSavedMovies] = React.useState([]);\r\n    const history = useHistory();\r\n\r\n    React.useEffect(() => {\r\n        if (loggedIn) {\r\n          Promise.all([mainApi.getUserInfo(), mainApi.getUserMovies()])\r\n          .then(([userData, movies]) => {\r\n            setMovies(JSON.parse(localStorage.getItem('movies')))\r\n            setCurrentUser(userData);\r\n            setSavedMovies(movies);\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          })\r\n       }\r\n     }, [loggedIn]);\r\n\r\n    function handleShortMoviesCheck(evt) {\r\n        setIsShortMoviesChecked(evt.target.checked);\r\n    }\r\n\r\n    function handleRegister(name, email, password) {\r\n        setIsSaving(true);\r\n        return mainApi\r\n            .register(name, email, password)\r\n            .then((res) => {\r\n                if(res) {\r\n                    setRegisterErrorMessage('')\r\n                    handleLogin(email, password);\r\n                } else if(res.error === 'Bad Request') {\r\n                    setRegisterErrorMessage(badRequestErrorText);\r\n                } else if(res.message) {\r\n                    setRegisterErrorMessage(res.message);\r\n                }\r\n            })\r\n            .catch(() => {\r\n                setRegisterErrorMessage(registrationErrorText);\r\n            })\r\n            .finally(() => {\r\n                setIsSaving(false);\r\n            })\r\n    }\r\n\r\n\tfunction handleLogin(email, password) {\r\n        setIsSaving(true);\r\n        return mainApi\r\n            .authorize(email, password)\r\n            .then((res) => {\r\n                if(res) {\r\n                    setCurrentUser(res);\r\n                    setLoggedIn(true);\r\n                    setLoginErrorMessage('');\r\n                    history.push('/movies');\r\n                } else if(res.error === 'Bad Request') {\r\n                    setLoginErrorMessage(badRequestErrorText);\r\n                } else if(res.message) {\r\n                    setLoginErrorMessage(res.message);\r\n                }\r\n            })\r\n            .catch(() => {\r\n                setLoginErrorMessage(authorizationErrorText);\r\n              })\r\n            .finally(() => {\r\n                setIsSaving(false);\r\n            })\r\n    }\r\n\r\n    function handleUpdateUser(name, email) {\r\n\t\tsetIsSaving(true);\r\n\t\treturn mainApi\r\n            .updateProfile(name, email)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif(res) {\r\n\t\t\t \t\tsetCurrentUser(res);\r\n\t\t\t\t\tsetIsUpdateSuccess(true);\r\n                    setEditProfileMessage(successProfileMessage);\r\n\t\t\t\t} else if(res.error === 'Bad Request') {\r\n\t\t\t\t\tsetEditProfileMessage(badRequestErrorText);\r\n                    setIsUpdateSuccess(false);\r\n\t\t\t    }\r\n\t\t\t})\r\n\t\t    .catch(() => {\r\n\t\t \t\tsetEditProfileMessage(updateProfileErrorText);\r\n\t\t\t\tsetIsUpdateSuccess(false);\r\n\t\t\t})\r\n\t\t \t.finally(() => {\r\n\t\t\t\tsetIsSaving(false);\r\n\t\t    })\r\n\t}\r\n\r\n    function handleSignOut() {\r\n        mainApi.logout()\r\n        .then(() => {\r\n            localStorage.removeItem('movies');\r\n            setLoggedIn(false)\r\n            setMovies([]);\r\n            setAllMovies([]);\r\n            history.push('/');\r\n        })\r\n      }\r\n\r\n    function clearAllErrorMessages() {\r\n        setRegisterErrorMessage('');\r\n        setLoginErrorMessage('');\r\n        setEditProfileMessage('');\r\n    }\r\n\r\n\tfunction handleSearchMovies(movies, data) {\r\n        let foundMovies = [];\r\n        movies.forEach((movie) => {\r\n            const searchName = movie.nameRU.toLowerCase().includes(data.toLowerCase()) ||\r\n            movie.nameEN?.toLowerCase().includes(data.toLowerCase())\r\n            if(searchName) {\r\n                if(isShortMoviesChecked) {\r\n                    if(movie.duration <= 40 && searchName) {\r\n                        return foundMovies.push(movie);\r\n                    }\r\n                    return\r\n                }\r\n                return foundMovies.push(movie);\r\n            }\r\n        })\r\n        return foundMovies;\r\n    }\r\n\r\n    function searchSavedMovies(data) {\r\n        setNotFound(false);\r\n        setIsMoviesErrorActive(false);\r\n        const searchSavedResult = handleSearchMovies(savedMovies, data);\r\n        if(searchSavedResult.length === 0) {\r\n            setNotFound(true);\r\n            setSavedMovies([]);\r\n        } else {\r\n           setNotFound(false);\r\n           setSavedMovies(searchSavedResult);\r\n        }\r\n    }\r\n\r\n\tfunction searchMovies(data) {\r\n        setIsSearching(true);\r\n        setMovies([]);\r\n        setNotFound(false);\r\n        setIsMoviesErrorActive(false);\r\n            if(allMovies.length === 0) {\r\n                moviesApi.getMovies()\r\n                    .then((movies) => {\r\n                        setAllMovies(movies)\r\n                        const searchResult = handleSearchMovies(movies, data);\r\n                        if(searchResult.length === 0) {\r\n                            setNotFound(true);\r\n                            setMovies([]);\r\n                        } else {\r\n                            localStorage.setItem('movies', JSON.stringify(searchResult))\r\n                            setMovies(JSON.parse(localStorage.getItem('movies')));\r\n                        }\r\n                    })\r\n                    .catch(() => {\r\n                        setIsMoviesErrorActive(true);\r\n                        setMovies([]);\r\n                    })\r\n                    .finally(() => {\r\n                        setIsSearching(false);\r\n                    })\r\n            } else {\r\n                const searchResult = handleSearchMovies(allMovies, data);\r\n                if(searchResult.length === 0) {\r\n                    setNotFound(true);\r\n                    setMovies([]);\r\n                    setIsSearching(false);\r\n                } else if(searchResult.length !== 0) {\r\n                    localStorage.setItem('movies', JSON.stringify(searchResult));\r\n                    setMovies(JSON.parse(localStorage.getItem('movies')));\r\n                    setIsSearching(false);\r\n                } else {\r\n                    setIsMoviesErrorActive(true);\r\n                    setMovies([]);\r\n                }\r\n            }\r\n    }\r\n\r\n    function handleMovieSave(data) {\r\n        setIsSaving(true);\r\n        mainApi.saveMovie(data)\r\n          .then((newMovie) => {\r\n            setSavedMovies([newMovie, ...savedMovies]);\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          })\r\n          .finally(() => {\r\n            setIsSaving(false);\r\n          })\r\n      }\r\n\r\n\r\n   function handleMovieDelete(data) {\r\n        setIsSaving(true);\r\n        mainApi.deleteMovie(data)\r\n            .then(() => {\r\n                setSavedMovies((prevMoviesState) => prevMoviesState.filter((deletedmovie) => deletedmovie._id !== data));\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            })\r\n            .finally(() => {\r\n                setIsSaving(false);\r\n            })\r\n    }\r\n\r\n    const tokenCheck = React.useCallback(() => {\r\n        mainApi.getUserInfo()\r\n        .then(() => {\r\n          setLoggedIn(true);\r\n          })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }, [])\r\n\r\n    React.useEffect(() => {\r\n        tokenCheck()\r\n      }, [tokenCheck])\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n\t    <div className=\"page\">\r\n\t    \t<Switch>\r\n\t\t    \t<Route exact path=\"/\">\r\n\t\t\t    \t<Main loggedIn={loggedIn} />\r\n\t\t    \t</Route>\r\n\t\t    \t<ProtectedRoute\r\n                    exact \r\n\t\t\t    \tpath=\"/movies\"\r\n\t\t\t    \tcomponent={Movies}\r\n\t\t    \t\tloggedIn={loggedIn}\r\n                    onSearchMovies={searchMovies}\r\n\t\t\t\t\tonShortMoviesCheck={handleShortMoviesCheck}\r\n\t\t\t\t\tisShortMoviesChecked={isShortMoviesChecked}\r\n                    movies={movies}\r\n                    isSearching={isSearching} \r\n                    isErrorActive={isMoviesErrorActive} \r\n                    notFound={notFound} \r\n                    savedMovies={savedMovies}\r\n                    onMovieSave={handleMovieSave}\r\n                    onMovieDelete={handleMovieDelete}\r\n\t\t    \t/>\r\n\t\t    \t<ProtectedRoute\r\n                    exact\r\n\t\t\t    \tpath=\"/saved-movies\"\r\n\t\t\t    \tcomponent={SavedMovies}\r\n\t\t\t    \tloggedIn={loggedIn}\r\n                    onSearchSavedMovies={searchSavedMovies}\r\n                    onShortMoviesCheck={handleShortMoviesCheck}\r\n                    isShortMoviesChecked={isShortMoviesChecked}\r\n                    isErrorActive={isMoviesErrorActive} \r\n                    movies={savedMovies}\r\n                    notFound={notFound} \r\n                    savedMovies={savedMovies}\r\n                    onMovieDelete={handleMovieDelete}\r\n\t\t    \t/>\r\n\t\t    \t<ProtectedRoute\r\n                    exact\r\n\t\t    \t\tpath=\"/profile\"\r\n\t\t\t    \tcomponent={Profile}\r\n                    onUpdateUser={handleUpdateUser}\r\n                    isUpdateSuccess={isUpdateSuccess}\r\n                    isSaving={isSaving}\r\n                    loggedIn={loggedIn}\r\n                    message={editProfileMessage}\r\n\t\t\t\t\tonSignOut={handleSignOut}\r\n\t\t    \t/>\r\n\t    \t\t<Route exact path=\"/signup\">\r\n\t\t    \t\t{loggedIn ? <Redirect to=\"/\" /> : <Register \r\n                        onRegister={handleRegister}\r\n                        onClear={clearAllErrorMessages}\r\n                        isSaving={isSaving}\r\n                        message={registerErrorMessage}\r\n                    />}\r\n\t\t    \t</Route>\r\n\t    \t\t<Route exact path=\"/signin\">\r\n\t\t    \t\t{loggedIn ? <Redirect to=\"/\" /> : <Login \r\n\t\t\t\t\t\tonLogin={handleLogin}\r\n\t\t\t\t\t\tonClear={clearAllErrorMessages}\r\n\t\t\t\t\t\tisSaving={isSaving}\r\n                        message={loginErrorMessage}\r\n\t\t\t\t\t/>}\r\n\t\t    \t</Route>\r\n\t\t    \t<Route path=\"*\">\r\n\t\t    \t\t<NotFound />\r\n\t\t    \t</Route>\r\n\t    \t</Switch>\r\n    \t</div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();"],"sourceRoot":""}